<!DOCTYPE html>
<style>
	html, body{
		height: 100%;
		width: 100%;
	}
	.chart{
		height: 50%;
		width: 50%;
	}
</style>
<html lang="en">
	<head>

        <meta charset="UTF-8" />
		<!-- import css -->
    	<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/style.css') }}">
    	<!-- name of tab -->
    	<title>Giving Tree</title>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js"></script>
    	<script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js'></script>
    	<!-- icon of tab -->
    	<link rel="shortcut icon" type="image/x-icon" href= "{{ url_for('static',filename='img/favicon.ico') }}">
	</head>
	<body id = "myChart" class="fade">
		<!-- logo and title -->
		<div class="title">
			<h1><img src="../static/img/logo_title.png" alt="logo" style="float:left; width:375px; height:100px;"></h1>
		</div>
		<!-- navigation bar -->
		<div class="navbar">
  			<a href="{{ url_for('index') }}">Home</a>
  			<a href="{{ url_for('query') }}">Get Started</a>
		</div>
		
		<!-- stocks -->
		
		<script>

			var datelist=new Array([],[]);
			var highlist=new Array([],[]);
			var lowlist=new Array([],[]);

			var jso=[[["2021-10-20 00:00:00", [149.53177188528653, 147.90414238072142]], ["2021-10-21 00:00:00", [149.42191647145026, 147.65449177462776]], ["2021-10-22 00:00:00", [149.96113120822127, 148.4233821970057]], ["2021-10-25 00:00:00", [149.15231752145246, 147.40486780467523]], ["2021-10-26 00:00:00", [150.6201756513622, 148.7928407009003]], ["2021-10-27 00:00:00", [149.51179437434413, 148.2736111763333]], ["2021-10-28 00:00:00", [152.9467726855869, 149.50180366217046]], ["2021-10-29 00:00:00", [149.72149092148635, 146.19663650250706]], ["2021-11-01 00:00:00", [149.48183173184853, 147.58460679052797]], ["2021-11-02 00:00:00", [151.3491205360553, 148.43336251741425]], ["2021-11-03 00:00:00", [151.74853756982256, 149.60167682786778]], ["2021-11-04 00:00:00", [152.20784917439678, 150.42046453088776]], ["2021-11-05 00:00:00", [152.1999969482422, 150.05999755859375]], ["2021-11-08 00:00:00", [151.57000732421875, 150.16000366210938]], ["2021-11-09 00:00:00", [151.42999267578125, 150.05999755859375]], ["2021-11-10 00:00:00", [150.1300048828125, 147.85000610351562]], ["2021-11-11 00:00:00", [149.42999267578125, 147.67999267578125]], ["2021-11-12 00:00:00", [150.39999389648438, 147.47999572753906]], ["2021-11-15 00:00:00", [151.8800048828125, 149.42999267578125]], ["2021-11-16 00:00:00", [151.49000549316406, 149.33999633789062]], ["2021-11-17 00:00:00", [155.0, 150.99000549316406]], ["2021-11-18 00:00:00", [158.6699981689453, 153.0500030517578]], ["2021-11-19 00:00:00", [161.02000427246094, 156.52999877929688]]]
			,[["2021-10-20 00:00:00", [139.53177188528653, 137.90414238072142]], ["2021-10-21 00:00:00", [139.42191647145026, 137.65449177462776]], ["2021-10-22 00:00:00", [139.96113120822127, 138.4233821970057]], ["2021-10-25 00:00:00", [139.15231752145246, 137.40486780467523]], ["2021-10-26 00:00:00", [140.6201756513622, 138.7928407009003]], ["2021-10-27 00:00:00", [139.51179437434413, 138.2736111763333]], ["2021-10-28 00:00:00", [142.9467726855869, 139.50180366217046]], ["2021-10-29 00:00:00", [139.72149092148635, 136.19663650250706]], ["2021-11-01 00:00:00", [139.48183173184853, 137.58460679052797]], ["2021-11-02 00:00:00", [141.3491205360553, 138.43336251741425]], ["2021-11-03 00:00:00", [141.74853756982256, 139.60167682786778]], ["2021-11-04 00:00:00", [142.20784917439678, 140.42046453088776]], ["2021-11-05 00:00:00", [142.1999969482422, 140.05999755859375]], ["2021-11-08 00:00:00", [141.57000732421875, 140.16000366210938]], ["2021-11-09 00:00:00", [141.42999267578125, 140.05999755859375]], ["2021-11-10 00:00:00", [140.1300048828125, 137.85000610351562]], ["2021-11-11 00:00:00", [139.42999267578125, 137.67999267578125]], ["2021-11-12 00:00:00", [140.39999389648438, 137.47999572753906]], ["2021-11-15 00:00:00", [141.8800048828125, 139.42999267578125]], ["2021-11-16 00:00:00", [141.49000549316406, 139.33999633789062]], ["2021-11-17 00:00:00", [145.0, 140.99000549316406]], ["2021-11-18 00:00:00", [148.6699981689453, 143.0500030517578]], ["2021-11-19 00:00:00", [151.02000427246094, 146.52999877929688]]]];
			for (i=0;i<jso.length;i++){
			
				for (j=0;j<jso[0].length;j++){
					
					const datearray=jso[i][j][0].split(" ");
					
					datelist[i].push(datearray[0]);
					highlist[i].push(jso[i][j][1][0]);
					lowlist[i].push(jso[i][j][1][1])
			}}

			var canvasArray = [];
            for (let i = 0; i < jso.length; i++) {
                document.getElementById('myChart').innerHTML += "<div class='chart' width='200' height='100'><canvas width='200' height='100' id=c" + i + "></canvas></div>";
                var ctxPrep = "c" + i;
                canvasArray.push(ctxPrep)
            }
            var el = 0;
            for (let i = 1; i <= jso.length; i = i + 1) {
                var ctx = document.getElementById(`${canvasArray[el]}`).getContext("2d");
                el++
                var myNewChart = new Chart(ctx, {
                type: "line",
                data: {
                    labels: datelist[i-1],
                    datasets: [{
                        label: 'Low',
                        // data: random1, 
                        data: lowlist[i-1],
                        borderWidth: 1,
                        fill: {
                            target: 'origin',
                            above: 'rgba(40, 114, 79, 0.3)'
                        },
                        borderColor: 'rgb(40, 114, 79)'
                    },
                    {
                        label: 'High',
                        // data: random2,
                        data: highlist[i-1],
                        borderWidth: 1,
                        fill: {
                            target: 'origin',
                            above: 'rgba(88, 193, 219, 0.3)'
                        
        
                        },
                        borderColor: 'rgb(88, 193, 219)'
                    }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectratio: false,
                    scales: {
						y:{
							min: 80,
							max: 200,
							ticks: {
								stepSize: 10
							}
						}	
						
					}
                }
            })}
		</script>

		<!-- bottom bar -->
		<div class="bottombar">
		</div>

		</script>
	</body>
</html>

